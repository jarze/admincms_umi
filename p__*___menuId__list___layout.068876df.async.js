(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"6Rj8":function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),c=a("Y/ft"),o=a.n(c),i=a("qIgq"),r=a.n(i),s=a("q1tI"),l=a.n(s),f=a("vl5k"),u=a("3a4m"),d=a.n(u),p=a("LvDl"),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function b(e){var t=e.editConfig,a=void 0===t?{}:t,n=e.loadingEffects,c=void 0===n?{}:n,o=e.otherFilterParams,i=m(e,["editConfig","loadingEffects","otherFilterParams"]),r=i.NS,l=i.dispatch,f=i.itemInfo,u=i.computedMatch,b=u||{},g=b.params,O=g.id;Object(s["useEffect"])(function(){O&&l({type:"".concat(r,"/fetchItemInfo"),payload:Object.assign({matchParams:g},o)})},[O,o]);var h=Object(s["useCallback"])(Object(p["debounce"])(function(e,t){"function"===typeof a.onValuesChange&&a.onValuesChange(e,t,i)},800),[]),y=a,v=y.handleFormValues,j=y.items,I=m(y,["handleFormValues","items"]),E=Object.assign(Object.assign({layout:"vertical"},I),{items:"function"===typeof j?j(i):j,onValuesChange:a.onValuesChange&&h,onSubmit:function(e){var t=v?v(e):e;null!==t&&l({type:"".concat(r,"/editItem"),payload:Object.assign({matchParams:g},t),editId:O,callback:function(){return d.a.goBack()}})},data:O&&f,loading:!!c["".concat(r,"/editItem")],fetchLoading:!!c["".concat(r,"/fetchItemInfo")],submitCol:24});return[E]}var g=b,O=a("8ZX5");t["default"]=Object(O["a"])(function(e){var t=g(e),a=r()(t,1),c=a[0],i=c.fetchLoading,s=o()(c,["fetchLoading"]);return l.a.createElement(n["a"],{spinning:i},l.a.createElement(f["a"],s))})},"8ZX5":function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a("eHn4"),c=a.n(n),o=a("p0pE"),i=a.n(o),r=a("/MKj"),s=a("LzdT"),l=Object(r["c"])(function(e,t){var a=t.NS,n=void 0===a?s["NS"]:a,o=t.otherModels,r=void 0===o?[]:o;return i()({},e[n],{NS:n,loadingEffects:e.loading.effects},(r||[]).reduce(function(t,a){return i()({},t,c()({},a,e[a]))},{}))})},Nldo:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),c=a("q1tI"),o=a.n(c);t["default"]=function(e){var t=e.children;return o.a.createElement(n["a"],null,t)}},bOLX:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),c=a("jehZ"),o=a.n(c),i=a("Y/ft"),r=a.n(i),s=a("q1tI"),l=a.n(s),f=a("vl5k"),u=a("8ZX5");t["default"]=Object(u["a"])(function(e){var t=e.dispatch,a=e.computedMatch.params,c=e.pageConfig,i=e.NS,u=e.loadingEffects,d=r()(e,["dispatch","computedMatch","pageConfig","NS","loadingEffects"]);return Object(s["useEffect"])(function(){t({type:"".concat(i,"/fetchItemInfo"),payload:{matchParams:a}})},[]),c&&"function"===typeof c.items&&(c.items=c.items(d)),l.a.createElement(n["a"],{spinning:!!u["".concat(i,"/fetchItemInfo")]},l.a.createElement(f["d"],o()({},d,c)))})},"fG+a":function(e,t,a){"use strict";a.r(t);var n=a("qIgq"),c=a.n(n),o=a("q1tI"),i=a.n(o),r=a("vl5k"),s=a("eHn4"),l=a.n(s),f=a("LvDl"),u=a("3a4m"),d=a.n(u),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},m=/(?<=\/).((?!\/).)*?(?=\/list\/)/gi,b=function(e,t){var a="".concat(e,"/").match(m),n="".concat(t,"/").match(m);return(a||[]).filter(function(e){return!(n||[]).includes(e)})};function g(e){var t=e.tableConfig,a=void 0===t?{}:t,n=e.formConfig,c=void 0===n?{}:n,i=e.loadingEffects,r=void 0===i?{}:i,s=e.otherFilterParams,u=e.isPush,m=p(e,["tableConfig","formConfig","loadingEffects","otherFilterParams","isPush"]),g=m.NS,O=m.dispatch,h=m.dataSource,y=void 0===h?[]:h,v=m.filterParams,j=m.pagination,I=void 0===j?{}:j,E=m.selectedRowKeys,S=m.computedMatch,P=m.preEditId,w=m.menuId,C=S||{},k=C.params,N="".concat(g,"/fetchData"),V=m.location||{},F=V.pathname,x=w&&w!==k.menuId;Object(o["useEffect"])(function(){O({type:"".concat(g,"/updateMatchParams"),matchParams:k})},[k]),Object(o["useEffect"])(function(){x||a&&M()},[v,s]),Object(o["useEffect"])(function(){return function(){var e=window.location.pathname,t=(m.location||{}).pathname;if(!e.includes(t)){var a=b(t,e).reduce(function(e,t){return Object.assign(Object.assign({},e),l()({},t,{}))},m.cached);O({type:"".concat(g,"/restPageFilter"),payload:{cached:a}})}}},[k,m.cached]);var M=function(e){var t=Object.assign(Object.assign(Object.assign(Object.assign({},v),{pageNo:I.current||1,pageSize:I.pageSize,matchParams:k}),e),s);!1===a.pagination&&(delete t.pageNo,delete t.pageSize),O({type:N,payload:Object.assign({},t)})},R=function(e){O({type:"".concat(g,"/save"),payload:{filterParams:e,pagination:Object.assign(Object.assign({},I),{current:1}),selectedRowKeys:[]}})},q=function(e){O({type:"".concat(g,"/save"),payload:e})},L="string"===typeof a.rowKey?a.rowKey:null,z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=a||{},c=n.breadcrumb,o=n.callback,i=n.id,r=void 0===i?L&&t[L]:i,s=F||".",l=c?"?breadcrumb=".concat(c):"";switch(e){case"detail":q({editId:r,itemInfo:t}),d.a.push("".concat(s,"/page/").concat(r).concat(l));break;case"add":q({editId:"add",itemInfo:{}}),u&&d.a.push("".concat(s,"/edit").concat(l));break;case"edit":q({editId:r,itemInfo:t}),u&&d.a.push("".concat(s,"/edit/").concat(r).concat(l));break;case"delete":O({type:"".concat(g,"/deleteItem"),payload:Object.assign(Object.assign({},t),{matchParams:k}),callback:o});break;case"export":O({type:"".concat(g,"/exportData"),payload:Object.assign(Object.assign({},t),{matchParams:k}),callback:o});break;case"search":R(t);break;case"refresh":M(t);break;case"update":q(Object.assign({},t));break;default:O({type:"".concat(g,"/actionItem"),payload:Object.assign(Object.assign({},t),{matchParams:k}),action:e,callback:o});break}};a.rowSelection&&(a.rowSelection=Object.assign(Object.assign({},a.rowSelection),{selectedRowKeys:E,onChange:function(e){O({type:"".concat(g,"/save"),payload:{selectedRowKeys:e}})}}));var K=a&&Object.assign(Object.assign({dataSource:x?[]:y,loading:r[N],pagination:I,rowClassName:function(e){return L&&P&&String(P)===String(e[L])?"table-row-visited":""},onItemAction:z,onChange:function(e,t,a,n){var c=e.current,o=e.pageSize,i=a.order,r=a.field;O({type:"".concat(g,"/save"),payload:{filterParams:Object.assign(Object.assign({},v),{order:i,field:i?r:void 0}),pagination:Object.assign(Object.assign({},I),{current:c,pageSize:o})}})}},a),{selectAlert:"function"===typeof a.selectAlert?function(){return a.selectAlert(E,Object.assign({onItemAction:z},m))}:a.selectAlert,columns:"function"===typeof a.columns?a.columns(m,z):a.columns}),A=Object(o["useCallback"])(Object(f["debounce"])(function(e,t){R(t)},800),[]),D={};"function"===typeof c.onSubmit&&(D.onSubmit=function(e){return c.onSubmit(e,m,z)}),"function"===typeof c.onReset&&(D.onReset=function(e){return c.onReset(e,m,z)}),c.onValuesChange&&(D.onValuesChange=A),"function"===typeof c.items&&(D.items=c.items(m,z));var T=c&&Object.assign(Object.assign({data:v,onSubmit:R,onReset:R},c),D);return[K,T,z]}var O=g,h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function y(e){var t=e.NS,a=e.editConfig,n=void 0===a?{}:a,c=e.loadingEffects,i=void 0===c?{}:c,r=h(e,["NS","editConfig","loadingEffects"]),s=r.dispatch,l=r.editId,u=r.preEditId,d=r.itemInfo,p=r.computedMatch,m=p||{},b=m.params;Object(o["useEffect"])(function(){l&&"add"!==l?n.isFetchData&&s({type:"".concat(t,"/fetchItemInfo"),payload:{matchParams:b,id:l}}):s({type:"".concat(t,"/save"),payload:{itemInfo:{}}})},[l]);var g=Object(o["useCallback"])(Object(f["debounce"])(function(e,t){"function"===typeof n.onValuesChange&&n.onValuesChange(e,t,r)},800),[]),O=l&&"add"!==l||u&&!l,y=Object.assign(Object.assign({title:O?"\u7f16\u8f91":"\u6dfb\u52a0",visible:!!l},n),{items:"function"===typeof n.items?n.items(r):n.items,data:d,onValuesChange:n.onValuesChange&&g,onOk:function(e){var a=Object.assign({matchParams:b},e);"add"!==l&&(a.id=l),s({type:"".concat(t,"/editItem"),payload:a,editId:l})},onCancel:function(){s({type:"".concat(t,"/save"),payload:{editId:null,preEditId:"add"!==l?l:null}})},confirmLoading:i["".concat(t,"/editItem")]});return[y]}var v=y,j=a("8ZX5"),I=function(e){var t=v(e),a=c()(t,1),n=a[0];return i.a.createElement(r["b"],n)};t["default"]=Object(j["a"])(function(e){var t=e.editConfig,a=e.actions,n=e.isPush,s=void 0!==n&&n,l=O(e),f=c()(l,3),u=f[0],d=f[1],p=f[2];return i.a.createElement(o["Fragment"],null,i.a.createElement(r["c"],{fmProps:d,tbProps:u},a&&i.a.createElement(o["Fragment"],null,i.a.createElement("div",null,a(p,e)),i.a.createElement("br",null))),!s&&t&&i.a.createElement(I,e))})}}]);