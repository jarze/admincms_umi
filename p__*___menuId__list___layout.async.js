(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"6Rj8":function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),c=a("Y/ft"),o=a.n(c),i=a("qIgq"),r=a.n(i),s=a("q1tI"),l=a.n(s),u=a("vl5k"),d=a("3a4m"),f=a.n(d),p=a("LvDl"),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function b(e){var t=e.editConfig,a=void 0===t?{}:t,n=e.loadingEffects,c=void 0===n?{}:n,o=e.otherFilterParams,i=m(e,["editConfig","loadingEffects","otherFilterParams"]),r=i.NS,l=i.dispatch,u=i.itemInfo,d=i.computedMatch,b=d||{},g=b.params,y=g.id;Object(s["useEffect"])(function(){y&&l({type:"".concat(r,"/fetchItemInfo"),payload:Object.assign({matchParams:g},o)})},[y,o]);var O=Object(s["useCallback"])(Object(p["debounce"])(function(e,t){"function"===typeof a.onValuesChange&&a.onValuesChange(e,t,i)},800),[]),h=a,v=h.handleFormValues,j=h.items,I=m(h,["handleFormValues","items"]),P=Object.assign(Object.assign({layout:"vertical",col:12},I),{items:"function"===typeof j?j(i):j,onValuesChange:a.onValuesChange&&O,onSubmit:function(e){var t=v?v(e):e;null!==t&&l({type:"".concat(r,"/editItem"),payload:Object.assign({matchParams:g},t),editId:y,callback:function(){return f.a.goBack()}})},data:y&&u,loading:!!c["".concat(r,"/editItem")],fetchLoading:!!c["".concat(r,"/fetchItemInfo")],submitCol:24});return[P]}var g=b,y=a("8ZX5");t["default"]=Object(y["a"])(function(e){var t=g(e),a=r()(t,1),c=a[0],i=c.fetchLoading,s=o()(c,["fetchLoading"]);return l.a.createElement(n["a"],{spinning:i},l.a.createElement(u["a"],s))})},"8ZX5":function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a("eHn4"),c=a.n(n),o=a("p0pE"),i=a.n(o),r=a("/MKj"),s=a("LzdT"),l=Object(r["c"])(function(e,t){var a=t.NS,n=void 0===a?s["NS"]:a,o=t.otherModels,r=void 0===o?[]:o;return i()({},e[n],{NS:n,loadingEffects:e.loading.effects},(r||[]).reduce(function(t,a){return i()({},t,c()({},a,e[a]))},{}))})},Nldo:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),c=a("q1tI"),o=a.n(c);t["default"]=function(e){var t=e.children;return o.a.createElement(n["a"],null,t)}},bOLX:function(e,t,a){"use strict";a.r(t);var n=a("jehZ"),c=a.n(n),o=a("Y/ft"),i=a.n(o),r=a("q1tI"),s=a.n(r),l=a("vl5k"),u=a("8ZX5");t["default"]=Object(u["a"])(function(e){var t=e.dispatch,a=e.computedMatch.params,n=e.pageConfig,o=e.NS,u=i()(e,["dispatch","computedMatch","pageConfig","NS"]);return Object(r["useEffect"])(function(){t({type:"".concat(o,"/fetchItemInfo"),payload:{matchParams:a}})},[]),n&&"function"===typeof n.items&&(n.items=n.items(u)),s.a.createElement(l["d"],c()({},u,n))})},"fG+a":function(e,t,a){"use strict";a.r(t);var n=a("qIgq"),c=a.n(n),o=a("q1tI"),i=a.n(o),r=a("vl5k"),s=a("eHn4"),l=a.n(s),u=a("LvDl"),d=a("3a4m"),f=a.n(d),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},m=/(?<=\/).((?!\/).)*?(?=\/list\/)/gi,b=function(e,t){var a="".concat(e,"/").match(m),n="".concat(t,"/").match(m);return(a||[]).filter(function(e){return!(n||[]).includes(e)})};function g(e){var t=e.tableConfig,a=void 0===t?{}:t,n=e.formConfig,c=void 0===n?{}:n,i=e.loadingEffects,r=void 0===i?{}:i,s=e.otherFilterParams,d=e.isPush,m=p(e,["tableConfig","formConfig","loadingEffects","otherFilterParams","isPush"]),g=m.NS,y=m.dispatch,O=m.dataSource,h=void 0===O?[]:O,v=m.filterParams,j=m.pagination,I=void 0===j?{}:j,P=m.selectedRowKeys,S=m.computedMatch,E=m.preEditId,w=m.menuId,C=S||{},k=C.params,N="".concat(g,"/fetchData"),V=m.location||{},F=V.pathname,x=w&&w!==k.menuId;Object(o["useEffect"])(function(){x||a&&M()},[v,s]),Object(o["useEffect"])(function(){y({type:"".concat(g,"/updateMatchParams"),matchParams:k})},[k]),Object(o["useEffect"])(function(){return function(){var e=window.location.pathname,t=(m.location||{}).pathname;if(!e.includes(t)){var a=b(t,e).reduce(function(e,t){return Object.assign(Object.assign({},e),l()({},t,{}))},m.cached);y({type:"".concat(g,"/restPageFilter"),payload:{cached:a}})}}},[k,m.cached]);var M=function(e){var t=Object.assign(Object.assign(Object.assign(Object.assign({},v),{pageNo:I.current||1,pageSize:I.pageSize,matchParams:k}),e),s);!1===a.pagination&&(delete t.pageNo,delete t.pageSize),y({type:N,payload:Object.assign({},t)})},R=function(e){y({type:"".concat(g,"/save"),payload:{filterParams:e,pagination:Object.assign(Object.assign({},I),{current:1}),selectedRowKeys:[]}})},q="string"===typeof a.rowKey?a.rowKey:null,L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=a||{},c=n.breadcrumb,o=n.callback,i=n.id,r=void 0===i?q&&t[q]:i;switch(e){case"detail":f.a.push("".concat(F||".","/page/").concat(r,"?breadcrumb=\u8be6\u60c5"));break;case"add":d?f.a.push("".concat(F||".","/edit?breadcrumb=").concat(c||"\u6dfb\u52a0")):y({type:"".concat(g,"/save"),payload:{editId:"add"}});break;case"edit":d?f.a.push("".concat(F||".","/edit/").concat(r,"?breadcrumb=").concat(c||"\u7f16\u8f91")):y({type:"".concat(g,"/save"),payload:{editId:r,itemInfo:t}});break;case"delete":y({type:"".concat(g,"/deleteItem"),payload:Object.assign(Object.assign({},t),{matchParams:k}),callback:o});break;case"export":y({type:"".concat(g,"/exportData"),payload:Object.assign(Object.assign({},t),{matchParams:k}),callback:o});break;case"search":R(t);break;case"refresh":M(t);break;case"update":y({type:"".concat(g,"/save"),payload:Object.assign({},t)});break;default:y({type:"".concat(g,"/actionItem"),payload:Object.assign(Object.assign({},t),{matchParams:k}),action:e,callback:o});break}};a.rowSelection&&(a.rowSelection=Object.assign(Object.assign({},a.rowSelection),{selectedRowKeys:P,onChange:function(e){y({type:"".concat(g,"/save"),payload:{selectedRowKeys:e}})}}));var z=a&&Object.assign(Object.assign({dataSource:x?[]:h,loading:r[N],pagination:I,rowClassName:function(e){return q&&E&&String(E)===String(e[q])?"table-row-visited":""},onItemAction:L,onChange:function(e,t,a,n){var c=e.current,o=e.pageSize,i=a.order,r=a.field;y({type:"".concat(g,"/save"),payload:{filterParams:Object.assign(Object.assign({},v),{order:i,field:i?r:void 0}),pagination:Object.assign(Object.assign({},I),{current:c,pageSize:o})}})}},a),{selectAlert:"function"===typeof a.selectAlert?function(){return a.selectAlert(P,Object.assign({onItemAction:L},m))}:a.selectAlert,columns:"function"===typeof a.columns?a.columns(L,m):a.columns}),K=Object(o["useCallback"])(Object(u["debounce"])(function(e,t){R(t)},800),[]),A={};"function"===typeof c.onSubmit&&(A.onSubmit=function(e){return c.onSubmit(e,m,L)}),"function"===typeof c.onReset&&(A.onReset=function(e){return c.onReset(e,m,L)}),c.onValuesChange&&(A.onValuesChange=K),"function"===typeof c.items&&(A.items=c.items(m,L));var D=c&&Object.assign(Object.assign({data:v,onSubmit:R,onReset:R},c),A);return[z,D,L]}var y=g,O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function h(e){var t=e.NS,a=e.editConfig,n=void 0===a?{}:a,c=e.loadingEffects,i=void 0===c?{}:c,r=O(e,["NS","editConfig","loadingEffects"]),s=r.dispatch,l=r.editId,d=r.preEditId,f=r.itemInfo,p=r.computedMatch,m=p||{},b=m.params;Object(o["useEffect"])(function(){l&&"add"!==l?n.isFetchData&&s({type:"".concat(t,"/fetchItemInfo"),payload:{matchParams:b,id:l}}):s({type:"".concat(t,"/save"),payload:{itemInfo:{}}})},[l]);var g=Object(o["useCallback"])(Object(u["debounce"])(function(e,t){"function"===typeof n.onValuesChange&&n.onValuesChange(e,t,r)},800),[]),y=l&&"add"!==l||d&&!l,h=Object.assign(Object.assign({title:y?"\u7f16\u8f91":"\u6dfb\u52a0",visible:!!l},n),{items:"function"===typeof n.items?n.items(r):n.items,data:f,onValuesChange:n.onValuesChange&&g,onOk:function(e){var a=Object.assign({matchParams:b},e);"add"!==l&&(a.id=l),s({type:"".concat(t,"/editItem"),payload:a,editId:l})},onCancel:function(){s({type:"".concat(t,"/save"),payload:{editId:null,preEditId:"add"!==l?l:null}})},confirmLoading:i["".concat(t,"/editItem")]});return[h]}var v=h,j=a("8ZX5"),I=function(e){var t=v(e),a=c()(t,1),n=a[0];return i.a.createElement(r["b"],n)};t["default"]=Object(j["a"])(function(e){var t=e.editConfig,a=e.actions,n=e.isPush,s=void 0!==n&&n,l=y(e),u=c()(l,3),d=u[0],f=u[1],p=u[2];return i.a.createElement(o["Fragment"],null,i.a.createElement(r["c"],{fmProps:f,tbProps:d},a&&i.a.createElement(o["Fragment"],null,i.a.createElement("div",null,a(p,e)),i.a.createElement("br",null))),!s&&t&&i.a.createElement(I,e))})}}]);